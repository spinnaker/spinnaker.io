---
title: Spinnaker Release 2025.4.0
date: 2025-12-01 23:12:33 +0000
major_minor: 2025.4
version: 2025.4.0
---

#### Breaking Changes

### Spring Boot 3.0.13 Upgrade

As part of the upgrade to Spring Boot 3.0.13, actuator metrics export configuration properties have changed structure.

#### Actuator Metrics Export Property Changes

The metrics export properties have moved from the old schema to the new format:

| Old Property Prefix | New Property Prefix |
|---------------------|---------------------|
| `management.metrics.export.<product>` | `management.<product>.metrics.export` |

**Example**

Prometheus configuration keys have changed from:

```properties
management.metrics.export.prometheus.*

to

management.prometheus.metrics.export.*
```

### Session data cleanup

Spring Boot 3.0 considers session data cached by Spring Boot 2.7 invalid.  Therefore, users with cached sessions will be unable to log in until the invalid information is removed from the cache. Open browser windows to Spinnaker are unresponsive after the deployment until they’re reloaded.
Executing:

    $ redis-cli keys "spring:session*" | xargs redis-cli del

on Gate's redis instance removes the cached session information.


### YAML Parsing Limits Configuration

**Context:**
Starting with **SnakeYAML 1.33**, strict safety limits are enforced by default:

* `maxAliasesForCollections = 50`
* `codePointLimit = 3145728`

These limits can cause large or alias-heavy YAML files (such as Kubernetes manifests) to fail during parsing, potentially breaking Spinnaker deployments.

**Improvement:**
To address this, Spinnaker now exposes two configurable properties that allow operators to override these limits when needed:

```
snakeyaml.max-aliases-for-collections: <int>   # default: 50
snakeyaml.code-point-limit: <int>              # default: 3145728
```

**Impact:**

* Prevents deployment failures due to strict YAML parsing limits.
* Provides flexibility for environments using complex or deeply aliased YAML manifests.
* Defaults remain aligned with SnakeYAML 1.33’s secure settings.

**Example:**
To increase limits for large manifests:

```
snakeyaml:
  max-aliases-for-collections: 500
  code-point-limit: 10485760
```

reference links:
https://www.javadoc.io/doc/org.yaml/snakeyaml/1.33/org/yaml/snakeyaml/LoaderOptions.html
https://github.com/spinnaker/spinnaker/blob/main/kork/kork-core/src/main/java/com/netflix/spinnaker/kork/yaml/YamlHelper.java

#### Features


#### Configuration


#### Fixes

* **spin:** Fix spin cli docker publishing to GHCR (#7335) (#7336) ([ed0023eb](https://github.com/spinnaker/spinnaker/commit/ed0023ebff55956d438e0a2424c1c1c66e220f41))
* **spin:** Fix spin cli docker publishing to GHCR (#7335) ([03e94e4e](https://github.com/spinnaker/spinnaker/commit/03e94e4ebe70904c244067b57b0fcd84a9332a1c))
* **web:** provide json error responses in more cases (#7340) ([05503adb](https://github.com/spinnaker/spinnaker/commit/05503adba1c712dbbe9c35c045744c3b24afa90e))

#### Other

* **dependency:** upgrade spring boot from 2.7.x to 3.0.x and spring cloud from 2021.0.x to 2022.0.x (#7057) ([eb576df1](https://github.com/spinnaker/spinnaker/commit/eb576df1f9454a4392a85c9fd5374fc4f8d8f3c9))
* **deps:** bump actions/checkout from 5 to 6 (#7347) ([f78af607](https://github.com/spinnaker/spinnaker/commit/f78af60721a6a7699d9cbc5f88569069c362757e))
* **deps:** bump golangci/golangci-lint-action from 8 to 9 (#7346) ([0995d75a](https://github.com/spinnaker/spinnaker/commit/0995d75abc6531ad2b8624c205308f1311d1ec1d))
* **deps:** bump js-yaml from 3.14.0 to 3.14.2 in /deck-kayenta (#7342) ([e4c7b5b5](https://github.com/spinnaker/spinnaker/commit/e4c7b5b5423a01aaff31a9d1e83c5b1f3e02e897))
* **roles:** make fiat full role sync synchronized across fiat instan…" (#7348) ([6465902a](https://github.com/spinnaker/spinnaker/commit/6465902a6651ea50fa821259c7bbe68475e49251))
