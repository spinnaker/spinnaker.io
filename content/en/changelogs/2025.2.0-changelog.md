---
title: Spinnaker Release 2025.2.0
date: 2025-09-11 19:09:01 +0000
major_minor: 2025.2
version: 2025.2.0
---

## Changelog

### Breaking Changes

#### Gate

##### Spring Security 5 Oauth2 Migration

https://github.com/spinnaker/spinnaker/pull/7052 removes deprecated OAuth2 annotations, and uses Spring Security 5's DSL.  As a result, the properties for configuring oauth2 in gate have changed.

old:
```
security:
  authn:
    oauth2:
      enabled: true
      client:
        clientId: <client-id>
        clientSecret: <client-secret>
        accessTokenUri: https://www.googleapis.com/oauth2/v4/token
        userAuthorizationUri: https://accounts.google.com/o/oauth2/v2/auth
        scope: profile email
      userInfoRequirements:
        hd: <domain>
      resource:
        userInfoUri: https://www.googleapis.com/oauth2/v3/userinfo
      userInfoMapping:
        email: email
        firstName: given_name
        lastName: family_name
      provider: GOOGLE
```

new (google):
```
spring:
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: <client-id>
            client-secret: <client-secret>
            authorization-grant-type: authorization_code
            redirect-uri: "https://<your-domain>/login/oauth2/code/google"
            scope: profile,email,openid
            client-name: google
        provider:
          google:
            authorization-uri: https://accounts.google.com/o/oauth2/auth
            token-uri: https://oauth2.googleapis.com/token
            user-info-uri: https://www.googleapis.com/oauth2/v3/userinfo
            user-name-attribute: sub
```

new (github):
```
spring:
  security:
    oauth2:
      client:
        registration:
          userInfoMapping:
            email: email
            firstName: ''
            lastName: name
            username: login
          github:
            client-id: <client-id>
            client-secret: <client-secret>
            authorization-grant-type: authorization_code
            redirect-uri: "https://<your-domain>/login/oauth2/code/github"
            scope: user,email
            client-name: github
        provider:
          github:
            authorization-uri: https://github.com/login/oauth/authorize
            token-uri: https://github.com/login/oauth/access_token
            user-info-uri: https://api.github.com/user
            user-name-attribute: login
```

halyard has been updated to generate the new configuration, with the same command as before, e.g.:
```
hal config security authn oauth2 edit --provider google --client-id some_id --client-secret some_secret --user-info-requirements hd=company.io
```

### Features

#### Clouddriver

https://github.com/spinnaker/spinnaker/pull/7239 and https://github.com/spinnaker/spinnaker/pull/7240 add functionality to log the endpoints that the AWS sdk uses, controlled by two new config flags that default to false:
```yaml
aws:
  client:
    logEndpoints: true
```
and
```yaml
artifacts:
  s3:
    logEndpoints: true
```

`aws.client.logEndpoints` is for clients that AmazonClientBuilder creates, as well as NetflixSTSAssumeRoleSessionCredentialsProvider.  `artifacts.s3.logEndpoints` is for clients that S3ArtifactCredentials creates.

Note: https://github.com/spinnaker/spinnaker/pull/7240 changes constructors in AmazonCredentials / AssumeRoleAmazonCredentials / NetflixAmazonCredentials / NetflixAssumeRoleAmazonCredentials.  Plugins or custom code may need corresponding changes (e.g. pass null for AwsConfigurationProperties) to continue to build.

* **OAuth2:** Current OAuth2 annotations are deprecated so using Java DSL way of configuring OAuth2 (#7052) ([c6a79fd0](https://github.com/spinnaker/spinnaker/commit/c6a79fd0e5375b6b12f8bba1c47a4e81cb2819fb))
* **clouddriver/aws:** Implement the account API for aws accounts (#7238) ([d41da1e2](https://github.com/spinnaker/spinnaker/commit/d41da1e2d50e05822aba3ff3af174e70e3f7ee7b))
* **clouddriver/aws:** log aws sdk endpoints (#7239) ([d19e1944](https://github.com/spinnaker/spinnaker/commit/d19e19440695b268ba4ec7644003fdcb5f7b7295))
* **clouddriver/aws:** log the endpoint that aws sdk sts clients use (#7240) ([c390e6fb](https://github.com/spinnaker/spinnaker/commit/c390e6fbd68d146d95d50079c55c011a168f067f))

### Configuration


### Fixes

* **clouddriver/aws:** align CredentialsParser types in AmazonCredentialsInitializer (#7207) (#7208) ([3c45b4c9](https://github.com/spinnaker/spinnaker/commit/3c45b4c933a6e519efa05f04e64f4f84cc91dcc8))
* **clouddriver/aws:** align CredentialsParser types in AmazonCredentialsInitializer (#7207) ([57b5928f](https://github.com/spinnaker/spinnaker/commit/57b5928f5b52e10f20ad29cdfdeb57b96dd22614))
* **deck:** Fix RunJob external logs when component is not mounted and interpolation is needed (#7163) ([9d86a95a](https://github.com/spinnaker/spinnaker/commit/9d86a95abc517ea909735f0ee0884bd5f502131d))
* **echo/rest:** make it possible to send events to URLs with no trailing slash (#7212) (#7215) ([824acc94](https://github.com/spinnaker/spinnaker/commit/824acc94316250429e7e78d97a3f4b0d8574aee1))
* **echo/rest:** make it possible to send events to URLs with no trailing slash (#7212) ([0e8c45b4](https://github.com/spinnaker/spinnaker/commit/0e8c45b45a7374f4ddacf579aa12dd1d67915b79))
* **gate/web:** add Retrofit2SyncCall.execute to SubnetController.allByCloudProvider (#7219) (#7221) ([9b5dcd7b](https://github.com/spinnaker/spinnaker/commit/9b5dcd7b9070661d07bde95cd030cdde1e5efb41))
* **gate/web:** add Retrofit2SyncCall.execute to SubnetController.allByCloudProvider (#7219) ([66b9ab01](https://github.com/spinnaker/spinnaker/commit/66b9ab017406ef1565b20c5c04acf18bbcb4cdcd))
* **gcp:** Fix a number of potential NPEs around deploy handling for google builds.  Tied to groovy to java migration (#7227) (#7233) ([4ea0d508](https://github.com/spinnaker/spinnaker/commit/4ea0d5087f5472793cc72c5b57cb1ce282890c5e))
* **gcp:** Fix a number of potential NPEs around deploy handling for google builds.  Tied to groovy to java migration (#7227) ([ffeaa35a](https://github.com/spinnaker/spinnaker/commit/ffeaa35aa16f7e32fb1d62fd8d21edb13918e13a))
* **gcp:** More NPE handling on some input (#7236) (#7237) ([347cfb20](https://github.com/spinnaker/spinnaker/commit/347cfb20f0cba0f7c9d06a31c961bbb2082756fc))
* **gcp:** More NPE handling on some input (#7236) ([7177e163](https://github.com/spinnaker/spinnaker/commit/7177e163ad5294518fba2aa5d9d8d38d842c4b59))
* **google:** Add retry and status polling logic (#7191) (#7217) ([b1243f81](https://github.com/spinnaker/spinnaker/commit/b1243f8112e43c9ccfab8758d86353b9a6876a30))
* **google:** Add retry and status polling logic (#7191) ([5385827f](https://github.com/spinnaker/spinnaker/commit/5385827fa3d4ffc9fe152e2cb6d03db89b7ba68a))
* **halyard/retrofit2:** fix DaemonService's convertor factory (#7230) (#7232) ([66ade3f8](https://github.com/spinnaker/spinnaker/commit/66ade3f8b48fd09195895918fe6dc058e25e8a46))
* **halyard/retrofit2:** fix DaemonService's convertor factory (#7230) ([1a83ac38](https://github.com/spinnaker/spinnaker/commit/1a83ac383fba5b15febd75291be674b55395f4f0))
* **halyard/retrofit2:** fix daemon service getTask API definition (#7206) (#7209) ([a75b383c](https://github.com/spinnaker/spinnaker/commit/a75b383c05f1570f9c08a766da092f199de4ac38))
* **halyard/retrofit2:** fix daemon service getTask API definition (#7206) ([4d991929](https://github.com/spinnaker/spinnaker/commit/4d99192979b269af29a2b5047cc4a0f03f0761ed))
* **orca/clouddriver:** correct parameter order for requestOperations to avoid invalid cloudProvider errors (#7201) (#7204) ([7f6e3e2f](https://github.com/spinnaker/spinnaker/commit/7f6e3e2f325f2607a6fdd3e4e21f307b69f09cd9))
* **orca/clouddriver:** correct parameter order for requestOperations to avoid invalid cloudProvider errors (#7201) ([f45b7fd8](https://github.com/spinnaker/spinnaker/commit/f45b7fd885c6ed56b1c4548be2e6a24caa0feb31))
* **orca/retrofit2:** fix orca bakeservice api (#7224) (#7225) ([e0a64b30](https://github.com/spinnaker/spinnaker/commit/e0a64b30b6e4436e844df3d14930b7e90797cf74))
* **orca/retrofit2:** fix orca bakeservice api (#7224) ([6c47bbfa](https://github.com/spinnaker/spinnaker/commit/6c47bbfac318fd48e4e3a17c0ef5495a1d03f28d))
* **sql:** Update account type column during upserts (#7242) ([ba06d158](https://github.com/spinnaker/spinnaker/commit/ba06d1580d7ee7a1cbc63f01626fd0055ef842a3))

### Other

* **build:** dynamic version indexing in tag name based on type (#7202) (#7203) ([e9d8ebc4](https://github.com/spinnaker/spinnaker/commit/e9d8ebc407a9ca4f8520ae2aafe9117fa86ba2f6))
* **build:** dynamic version indexing in tag name based on type (#7202) ([18758e3a](https://github.com/spinnaker/spinnaker/commit/18758e3a71aa2e47ffb6b96c44fcf848d9330c6a))
* **dependency:** update bc version from 1.77 to 1.81 (#7211) ([c051f965](https://github.com/spinnaker/spinnaker/commit/c051f9651681055acb028ca01df02987a1e1eaf2))
* **deps:** bump sha.js from 2.4.11 to 2.4.12 in /deck (#7213) ([0c97ecd1](https://github.com/spinnaker/spinnaker/commit/0c97ecd18c40ffa1d315e3dcf8f5870ecfa519e5))
* **deps:** bump tmp from 0.2.3 to 0.2.5 in /deck/test/functional (#7231) ([de171bc4](https://github.com/spinnaker/spinnaker/commit/de171bc4477bc00d11f416965281da669a3367b8))
* **deps:** bump tmp in /.github/actions/spinnaker-release (#7229) ([da68ba66](https://github.com/spinnaker/spinnaker/commit/da68ba66321eb034356ffc2b20a3c0a4c7c2f709))
* **graphql:** Remove unused and legacy graphql libraries and sample endpoints (#7244) ([fe879f8b](https://github.com/spinnaker/spinnaker/commit/fe879f8b867b64de7c916e9ea8806c6e15bb8382))
* **kubernetes:** convert load balancer details component to react (#7222) ([c42106e7](https://github.com/spinnaker/spinnaker/commit/c42106e719daa30b06dd5efa520e8b7e7e32d508))
* **kubernetes:** convert manifest actions modal components to react (#7223) ([e0801020](https://github.com/spinnaker/spinnaker/commit/e08010207d3c2085fb79cdb6791898bde8bad5c6))
* **kubernetes:** de-angularize services, and components (#7228) ([e5a54ada](https://github.com/spinnaker/spinnaker/commit/e5a54adad738c618f7caf6d5a375659ad4261041))
